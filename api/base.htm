<!doctype html>
<html lang="en">
<head>
    <title>test | martimedia</title>
    <meta charset="utf-8" />
	    <link href="/sandbox/content/css/style.css" type="text/css" rel="stylesheet" />
<style type=text/css>

ul { 
display:inline-block; 
}

li { 
height:280px;
width:270px; 
overflow:hidden;
background:#fcfcfc;
text-align:center;
list-style:none;
vertical-align:top;
padding:10px;
}

</style>

</head>
<body>
    <h1>test | martimedia</h1>
    <p>
        Sample app
    </p>
	
	
	<div id=results></div>
	
	
	
	<div class=footer>(c) martimedia ltd 2012</div>
	
	</body>
	
	     <script id="photosTemplate" type="text/x-jquery-tmpl"> 
                {{each(i,item) photos}}
                    <ul class="photo" >
                        <li>
							<img  src="http://dl.dropbox.com/u/23138522/photos/photos_m/${item.s}/${item.p}.jpg" title = "{{= item.l}} , {{= item.n}}">
						</li> 
				    </ul>
               {{/each}}
            </script> 
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script> 
	<script src="/sandbox/content/js/jQuery.tmpl.min.js" type="text/javascript"></script> 

	<script type="text/javascript">
   
	var app = {
	
		applyTemplate: function (template, data, target) {

			$(target).html("");

			$(template).tmpl(data).appendTo(target);

		},

		getData : function () {

			var jxhr = $.ajax({ url: "data/photos.js", dataType: "jsonp", timeout: 10000, jsonpCallback: "jsonFlickrApi" })
				.success(function (data, status) {
					app.applyTemplate("#photosTemplate",data,"#results");
				})
				.error(function (status) {
					alert(status.statusText);
				});
		}
	
	}

   $(document).ready(function () {
		app.getData();
	});

   </script>
   
</html>