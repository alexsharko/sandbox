(function(a){var X="about:blank",W="javascript:void(false)",S="float",L="inside",I="filter",F="height",K="keydown.fb",V="resize.fb scroll.fb",u=":visible",H="hidden",A="px",G="fancybox-cleanup",R="fancybox-change",E="fancybox-cancel",e=10,f=true,C="iframe",M="image",v="object",B="undefined",s="fancybox",g="auto",d=false,i="",x=null,o,y,z,h,U,l,T,n,O,N,r=0,c={},p=[],q=0,b={},m=[],Y=x,w=new Image,db=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,tb=/[^\.]\.(swf)\s*$/i,cb,bb=1,J=0,D=i,t,k,j=d,P=a.extend(a("<div/>")[0],{prop:0}),hb=a.browser.msie&&a.browser.version<7&&!window.XMLHttpRequest,fb=function(){y.hide();w.onerror=w.onload=x;Y&&Y.abort();o.empty()},gb=function(){if(d===c.onError(p,r,c)){y.hide();j=d;return}c.titleShow=d;c.width=g;c.height=g;o.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');Q()},Z=function(){var u='"></param>',A='" height="',q="ajax",m="inline",t="html",z="img:first",h=p[r],b,k,D,F,H,n;fb();c=a.extend({},a.fn.fancybox.defaults,typeof a(h).data(s)==B?c:a(h).data(s));n=c.onStart(p,r,c);if(n===d){j=d;return}else if(typeof n==v)c=a.extend(c,n);D=c.title||(h.nodeName?a(h).attr("title"):h.title)||i;if(h.nodeName&&!c.orig)c.orig=a(h).children(z).length?a(h).children(z):a(h);if(D===i&&c.orig&&c.titleFromAlt)D=c.orig.attr("alt");b=c.href||(h.nodeName?a(h).attr("href"):h.href)||x;if(/^(?:javascript)/i.test(b)||b=="#")b=x;if(c.type){k=c.type;if(!b)b=c.content}else if(c.content)k=t;else if(b)if(b.match(db))k=M;else if(b.match(tb))k="swf";else if(a(h).hasClass(C))k=C;else if(b.indexOf("#")===0)k=m;else k=q;if(!k){gb();return}if(k==m){h=b.substr(b.indexOf("#"));k=a(h).length>0?m:q}c.type=k;c.href=b;c.title=D;if(c.autoDimensions)if(c.type==t||c.type==m||c.type==q){c.width=g;c.height=g}else c.autoDimensions=d;if(c.modal){c.overlayShow=f;c.hideOnOverlayClick=d;c.hideOnContentClick=d;c.enableEscapeButton=d;c.showCloseButton=d}c.padding=parseInt(c.padding,e);c.margin=parseInt(c.margin,e);o.css("padding",c.padding+c.margin);a(".fancybox-inline-tmp").unbind(E).bind(R,function(){a(this).replaceWith(l.children())});switch(k){case t:o.html(c.content);Q();break;case m:if(a(h).parent().is("#fancybox-content")===f){j=d;return}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(h)).bind(G,function(){a(this).replaceWith(l.children())}).bind(E,function(){a(this).replaceWith(o.children())});a(h).appendTo(o);Q();break;case M:j=d;a.fancybox.showActivity();w=new Image;w.onerror=function(){gb()};w.onload=function(){j=f;w.onerror=w.onload=x;ob()};w.src=b;break;case "swf":c.scrolling="no";F='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+c.width+A+c.height+'"><param name="movie" value="'+b+u;H=i;a.each(c.swf,function(a,b){F+='<param name="'+a+'" value="'+b+u;H+=" "+a+'="'+b+'"'});F+='<embed src="'+b+'" type="application/x-shockwave-flash" width="'+c.width+A+c.height+'"'+H+"></embed></object>";o.html(F);Q();break;case q:j=d;a.fancybox.showActivity();c.ajax.win=c.ajax.success;Y=a.ajax(a.extend({},c.ajax,{url:b,data:c.ajax.data||{},error:function(a){a.status>0&&gb()},success:function(e,f,a){var g=typeof a==v?a:Y;if(g.status==200){if(typeof c.ajax.win=="function"){n=c.ajax.win(b,e,f,a);if(n===d){y.hide();return}else if(typeof n=="string"||typeof n==v)e=n}o.html(e);Q()}}}));break;case C:jb()}},Q=function(){var d=c.width,b=c.height;if(d.toString().indexOf("%")>-1)d=parseInt((a(window).width()-c.margin*2)*parseFloat(d)/100,e)+A;else d=d==g?g:d+A;if(b.toString().indexOf("%")>-1)b=parseInt((a(window).height()-c.margin*2)*parseFloat(b)/100,e)+A;else b=b==g?g:b+A;o.wrapInner('<div style="width:'+d+";height:"+b+";overflow: "+(c.scrolling==g?g:c.scrolling=="yes"?"scroll":H)+';position:relative;"></div>');c.width=o.width();c.height=o.height();jb()},ob=function(){c.width=w.width;c.height=w.height;a("<img />").attr({id:"fancybox-img",src:w.src,alt:c.title}).appendTo(o);jb()},jb=function(){var e,i;y.hide();if(h.is(u)&&d===b.onCleanup(m,q,b)){a.event.trigger(E);j=d;return}j=f;a(l.add(z)).unbind();a(window).unbind(V);a(document).unbind(K);h.is(u)&&b.titlePosition!=="outside"&&h.css(F,h.height());m=p;q=r;b=c;if(b.overlayShow){z.css({"background-color":b.overlayColor,opacity:b.overlayOpacity,cursor:b.hideOnOverlayClick?"pointer":g,height:a(document).height()});if(!z.is(u)){hb&&a("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!==H}).css({visibility:H}).one(G,function(){this.style.visibility="inherit"});z.show()}}else z.hide();k=sb();pb();if(h.is(u)){a(T.add(O).add(N)).hide();e=h.position(),t={top:e.top,left:e.left,width:h.width(),height:h.height()};i=t.width==k.width&&t.height==k.height;l.fadeTo(b.changeFade,.3,function(){var d=function(){l.html(o.contents()).fadeTo(b.changeFade,1,eb)};a.event.trigger(R);l.empty().removeAttr(I).css({"border-width":b.padding,width:k.width-b.padding*2,height:c.autoDimensions?g:k.height-J-b.padding*2});if(i)d();else{P.prop=0;a(P).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:ib,complete:d})}});return}h.removeAttr("style");l.css("border-width",b.padding);if(b.transitionIn=="elastic"){t=kb();l.html(o.contents());h.show();if(b.opacity)k.opacity=0;P.prop=0;a(P).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:ib,complete:eb});return}b.titlePosition==L&&J>0&&n.show();l.css({width:k.width-b.padding*2,height:c.autoDimensions?g:k.height-J-b.padding*2}).html(o.contents());h.css(k).fadeIn(b.transitionIn=="none"?0:b.speedIn,eb)},qb=function(a){if(a&&a.length){if(b.titlePosition==S)return '<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+a+'</td><td id="fancybox-title-float-right"></td></tr></table>';return '<div id="fancybox-title-'+b.titlePosition+'">'+a+"</div>"}return d},pb=function(){D=b.title||i;J=0;n.empty().removeAttr("style").removeClass();if(b.titleShow===d){n.hide();return}D=a.isFunction(b.titleFormat)?b.titleFormat(D,m,q,b):qb(D);if(!D||D===i){n.hide();return}n.addClass("fancybox-title-"+b.titlePosition).html(D).appendTo("body").show();switch(b.titlePosition){case L:n.css({width:k.width-b.padding*2,marginLeft:b.padding,marginRight:b.padding});J=n.outerHeight(f);n.appendTo(U);k.height+=J;break;case "over":n.css({marginLeft:b.padding,width:k.width-b.padding*2,bottom:b.padding}).appendTo(U);break;case S:n.css("left",parseInt((n.width()-k.width-40)/2,e)*-1).appendTo(h);break;default:n.css({width:k.width-b.padding*2,paddingLeft:b.padding,paddingRight:b.padding}).appendTo(h)}n.hide()},nb=function(){(b.enableEscapeButton||b.enableKeyboardNav)&&a(document).bind(K,function(c){if(c.keyCode==27&&b.enableEscapeButton){c.preventDefault();a.fancybox.close()}else if((c.keyCode==37||c.keyCode==39)&&b.enableKeyboardNav&&c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.target.tagName!=="SELECT"){c.preventDefault();a.fancybox[c.keyCode==37?"prev":"next"]()}});if(!b.showNavArrows){O.hide();N.hide();return}(b.cyclic&&m.length>1||q!==0)&&O.show();(b.cyclic&&m.length>1||q!=m.length-1)&&N.show()},eb=function(){if(!a.support.opacity){l.get(0).style.removeAttribute(I);h.get(0).style.removeAttribute(I)}c.autoDimensions&&l.css(F,g);h.css(F,g);D&&D.length&&n.show();b.showCloseButton&&T.show();nb();b.hideOnContentClick&&l.bind("click",a.fancybox.close);b.hideOnOverlayClick&&z.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);b.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);b.type==C&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':i)+' scrolling="'+c.scrolling+'" src="'+b.href+'"></iframe>').appendTo(l);h.show();j=d;a.fancybox.center();b.onComplete(m,q,b);mb()},mb=function(){var a,b;if(m.length-1>q){a=m[q+1].href;if(typeof a!==B&&a.match(db)){b=new Image;b.src=a}}if(q>0){a=m[q-1].href;if(typeof a!==B&&a.match(db)){b=new Image;b.src=a}}},ib=function(a){var c={width:parseInt(t.width+(k.width-t.width)*a,e),height:parseInt(t.height+(k.height-t.height)*a,e),top:parseInt(t.top+(k.top-t.top)*a,e),left:parseInt(t.left+(k.left-t.left)*a,e)};if(typeof k.opacity!==B)c.opacity=a<.5?.5:a;h.css(c);l.css({width:c.width-b.padding*2,height:c.height-J*a-b.padding*2})},ab=function(){return [a(window).width()-b.margin*2,a(window).height()-b.margin*2,a(document).scrollLeft()+b.margin,a(document).scrollTop()+b.margin]},sb=function(){var d=ab(),a={},h=b.autoScale,f=b.padding*2,g;if(b.width.toString().indexOf("%")>-1)a.width=parseInt(d[0]*parseFloat(b.width)/100,e);else a.width=b.width+f;if(b.height.toString().indexOf("%")>-1)a.height=parseInt(d[1]*parseFloat(b.height)/100,e);else a.height=b.height+f;if(h&&(a.width>d[0]||a.height>d[1]))if(c.type==M||c.type=="swf"){g=b.width/b.height;if(a.width>d[0]){a.width=d[0];a.height=parseInt((a.width-f)/g+f,e)}if(a.height>d[1]){a.height=d[1];a.width=parseInt((a.height-f)*g+f,e)}}else{a.width=Math.min(a.width,d[0]);a.height=Math.min(a.height,d[1])}a.top=parseInt(Math.max(d[3]-20,d[3]+(d[1]-a.height-40)*.5),e);a.left=parseInt(Math.max(d[2]-20,d[2]+(d[0]-a.width-40)*.5),e);return a},rb=function(a){var b=a.offset();b.top+=parseInt(a.css("paddingTop"),e)||0;b.left+=parseInt(a.css("paddingLeft"),e)||0;b.top+=parseInt(a.css("border-top-width"),e)||0;b.left+=parseInt(a.css("border-left-width"),e)||0;b.width=a.width();b.height=a.height();return b},kb=function(){var i=c.orig?a(c.orig):d,h={},g,f;if(i&&i.length){g=rb(i);h={width:g.width+b.padding*2,height:g.height+b.padding*2,top:g.top-b.padding-20,left:g.left-b.padding-20}}else{f=ab();h={width:b.padding*2,height:b.padding*2,top:parseInt(f[3]+f[1]*.5,e),left:parseInt(f[2]+f[0]*.5,e)}}return h},lb=function(){if(!y.is(u)){clearInterval(cb);return}a("div",y).css("top",bb*-40+A);bb=(bb+1)%12};a.fn.fancybox=function(d){var c="click.fb",b=this;if(!a(b).length)return b;a(b).data(s,a.extend({},d,a.metadata?a(b).metadata():{})).unbind(c).bind(c,function(d){var c=this;d.preventDefault();if(j)return;j=f;a(c).blur();p=[];r=0;var b=a(c).attr("rel")||i;if(!b||b==i||b==="nofollow")p.push(c);else{p=a("a[rel="+b+"], area[rel="+b+"]");r=p.index(c)}Z();return});return b};a.fancybox=function(b){var d;if(j)return;j=f;d=typeof arguments[1]!==B?arguments[1]:{};p=[];r=parseInt(d.index,e)||0;if(a.isArray(b)){for(var c=0,g=b.length;c<g;c++)if(typeof b[c]==v)a(b[c]).data(s,a.extend({},d,b[c]));else b[c]=a({}).data(s,a.extend({content:b[c]},d));p=jQuery.merge(p,b)}else{if(typeof b==v)a(b).data(s,a.extend({},d,b));else b=a({}).data(s,a.extend({content:b},d));p.push(b)}if(r>p.length||r<0)r=0;Z()};a.fancybox.showActivity=function(){clearInterval(cb);y.show();cb=setInterval(lb,66)};a.fancybox.hideActivity=function(){y.hide()};a.fancybox.next=function(){return a.fancybox.pos(q+1)};a.fancybox.prev=function(){return a.fancybox.pos(q-1)};a.fancybox.pos=function(a){if(j)return;a=parseInt(a);p=m;if(a>-1&&a<m.length){r=a;Z()}else if(b.cyclic&&m.length>1){r=a>=m.length?0:m.length-1;Z()}return};a.fancybox.cancel=function(){if(j)return;j=f;a.event.trigger(E);fb();c.onCancel(p,r,c);j=d};a.fancybox.close=function(){if(j||h.is(":hidden"))return;j=f;if(b&&d===b.onCleanup(m,q,b)){j=d;return}fb();a(T.add(O).add(N)).hide();a(l.add(z)).unbind();a(window).unbind(V);a(document).unbind(K);l.find(C).attr("src",hb&&/^https/i.test(window.location.href||i)?W:X);b.titlePosition!==L&&n.empty();h.stop();function e(){z.fadeOut("fast");n.empty().hide();h.hide();a.event.trigger(G);l.empty();b.onClosed(m,q,b);m=c=[];q=r=0;b=c={};j=d}if(b.transitionOut=="elastic"){t=kb();var g=h.position();k={top:g.top,left:g.left,width:h.width(),height:h.height()};if(b.opacity)k.opacity=1;n.empty().hide();P.prop=1;a(P).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:ib,complete:e})}else h.fadeOut(b.transitionOut=="none"?0:b.speedOut,e)};a.fancybox.resize=function(){z.is(u)&&z.css(F,a(document).height());a.fancybox.center(f)};a.fancybox.center=function(){var a,c;if(j)return;c=arguments[0]===f?1:0;a=ab();if(!c&&(h.width()>a[0]||h.height()>a[1]))return;h.stop().animate({top:parseInt(Math.max(a[3]-20,a[3]+(a[1]-l.height()-40)*.5-b.padding)),left:parseInt(Math.max(a[2]-20,a[2]+(a[0]-l.width()-40)*.5-b.padding))},typeof arguments[0]=="number"?arguments[0]:200)};a.fancybox.init=function(){var b="fancybox-ie6";if(a("#fancybox-wrap").length)return;a("body").append(o=a('<div id="fancybox-tmp"></div>'),y=a('<div id="fancybox-loading"><div></div></div>'),z=a('<div id="fancybox-overlay"></div>'),h=a('<div id="fancybox-wrap"></div>'));U=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(h);U.append(l=a('<div id="fancybox-content"></div>'),T=a('<a id="fancybox-close"></a>'),n=a('<div id="fancybox-title"></div>'),O=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),N=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));T.click(a.fancybox.close);y.click(a.fancybox.cancel);O.click(function(b){b.preventDefault();a.fancybox.prev()});N.click(function(b){b.preventDefault();a.fancybox.next()});a.fn.mousewheel&&h.bind("mousewheel.fb",function(b,c){if(j)b.preventDefault();else if(a(b.target).get(0).clientHeight==0||a(b.target).get(0).scrollHeight===a(b.target).get(0).clientHeight){b.preventDefault();a.fancybox[c>0?"prev":"next"]()}});!a.support.opacity&&h.addClass("fancybox-ie");if(hb){y.addClass(b);h.addClass(b);a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||i)?W:X)+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(U)}};a.fn.fancybox.defaults={padding:e,margin:40,opacity:d,modal:d,cyclic:d,scrolling:g,width:560,height:340,autoScale:f,autoDimensions:f,centerOnScroll:d,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:f,hideOnContentClick:d,overlayShow:f,overlayOpacity:.7,overlayColor:"#777",titleShow:f,titlePosition:S,titleFormat:x,titleFromAlt:d,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:f,showNavArrows:f,enableEscapeButton:f,enableKeyboardNav:f,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery)